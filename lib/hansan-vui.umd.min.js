(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["hansan-vui"]=e():t["hansan-vui"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"0060":function(t,e,n){},"135f":function(t,e,n){"use strict";var i=n("9811"),o=n.n(i);o.a},1704:function(t,e,n){},"30c4":function(t,e,n){"use strict";var i=n("f1e8"),o=n.n(i);o.a},3901:function(t,e,n){},3966:function(t,e,n){"use strict";var i=n("80ff"),o=n.n(i);o.a},4230:function(t,e,n){},"6ed9":function(t,e,n){},"7df8":function(t,e,n){"use strict";var i=n("6ed9"),o=n.n(i);o.a},"80ff":function(t,e,n){},8875:function(t,e,n){var i,o,s;(function(n,a){o=[],i=a,s="function"===typeof i?i.apply(e,o):i,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var n,i,o,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,r=s.exec(h.stack)||a.exec(h.stack),c=r&&r[1]||!1,l=r&&r[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");c===u&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(i,"$1").trim());for(var p=0;p<d.length;p++){if("interactive"===d[p].readyState)return d[p];if(d[p].src===c)return d[p];if(c===u&&d[p].innerHTML&&d[p].innerHTML.trim()===o)return d[p]}return null}}return t}))},9811:function(t,e,n){},"993e":function(t,e,n){"use strict";var i=n("d1c9"),o=n.n(i);o.a},"9ad0":function(t,e,n){},"9d6f":function(t,e,n){"use strict";var i=n("9ad0"),o=n.n(i);o.a},ae39:function(t,e,n){"use strict";var i=n("1704"),o=n.n(i);o.a},c2c9:function(t,e,n){"use strict";var i=n("4230"),o=n.n(i);o.a},d1c9:function(t,e,n){},f109:function(t,e,n){"use strict";var i=n("0060"),o=n.n(i);o.a},f1e8:function(t,e,n){},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"hButton",(function(){return h})),n.d(e,"hMessage",(function(){return k})),n.d(e,"hModal",(function(){return T})),n.d(e,"hNotice",(function(){return M})),n.d(e,"hPopmessage",(function(){return X})),n.d(e,"hPopover",(function(){return Y})),n.d(e,"hTable",(function(){return et})),n.d(e,"hToast",(function(){return ct})),n.d(e,"hEditor",(function(){return mt})),"undefined"!==typeof window){var i=window.document.currentScript,o=n("8875");i=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var s=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(n.p=s[1])}n("3901");var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button",attrs:{disabled:t.disabled},on:{click:t.buttonClick}},[t.plain?t._e():[n("button",{staticClass:"btn-normal",attrs:{type:t.type,disabled:!!t.disabled,round:t.round,size:t.size,cirle:t.cirle}},[t._t("default")],2)],t.plain?[n("button",{staticClass:"btn-Hollow",attrs:{type:t.type,disabled:!!t.disabled,round:t.round,size:t.size,cirle:t.cirle}},[t._t("default")],2)]:t._e()],2)},r=[],c={name:"hButton",props:{type:{type:String,default:""},plain:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},round:{type:Boolean,default:!1},size:{type:String,default:"normal"},cirle:{type:Boolean,default:!1}},data(){return{}},methods:{buttonClick(t){if(this.disabled)return t.stopPropagation(),void t.preventDefault();this.$emit("click")}}},l=c;n("3966");function u(t,e,n,i,o,s,a,r){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):o&&(c=r?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}var d=u(l,a,r,!1,null,"75db27cb",null),p=d.exports;p.install=function(t){t.component(p.name,p)};var h=p,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{appear:"","appear-class":"fade-enter","appear-to-class":"fade-enter-to","appear-active-class":"fade-enter-active",name:"animate"}},[t.show?n("div",{staticClass:"message",class:t.type,attrs:{type:t.type}},["success"===t.type?n("i",{staticClass:"iconfont icon-chenggong"}):t._e(),"warning"===t.type?n("i",{staticClass:"iconfont icon-jinggao"}):t._e(),"error"===t.type?n("i",{staticClass:"iconfont icon-cuowu"}):t._e(),"info"===t.type?n("i",{staticClass:"iconfont icon-zhengchang"}):t._e(),n("span",{staticClass:"text"},[t._v(t._s(t.message))])]):t._e()])],1)},m=[],y={name:"hMessage",props:{type:{type:String,default:"info",validator:t=>["info","success","warning","error"].includes(t)},message:{type:String,default:""},duration:{type:Number,default:2e3}},data(){return{show:!0}},mounted(){this.handleAutoClose()},methods:{handleAutoClose(){setTimeout(()=>{this.close()},this.duration)},close(){this.show=!1,setTimeout(()=>{this.$el.remove(),this.$destroy()},200)}}},v=y,g=(n("9d6f"),u(v,f,m,!1,null,"9f6e4d24",null)),b=g.exports;b.install=function(t){function e(e,n){let i=t.extend(b),o={type:e,message:n.message,autoclose:n.autoclose,duration:n.duration},s=new i({propsData:{...o}}),a=s.$mount(),r=a.$el;r.setAttribute("data-message",Math.random());var c=Array.prototype.slice.call(document.body.children);let l=[];c.forEach(t=>{t.getAttribute("data-message")&&(l.push(t),document.body.removeChild(t))}),document.body.appendChild(r)}t.component(b.name,b);let n=function(t){t&&e(t.type,t)};n.info=function(t){t&&e("info",t)},n.success=function(t){t&&e("success",t)},n.error=function(t){t&&e("error",t)},n.warning=function(t){t&&e("warning",t)},t.prototype.$hMessage=n};var k=b,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"before-leave":t.beforeLeave,leave:t.leave}},[t.showModal?n("div",{staticClass:"modal-backdrop"},[n("transition",{attrs:{name:"table"}},[t.showModal?n("div",{staticClass:"modal"},[t._t("header"),t._t("content"),t._t("footer",[n("div",{staticClass:"modal-footer"},[n("div",{staticStyle:{float:"right"}},[n("a",{staticClass:"btn-close",on:{click:t.close}},[t._v(t._s(t.cancleText?t.cancleText:"取消"))]),n("a",{staticClass:"btn-confirm",on:{click:t.confirm}},[t._v(t._s(t.confirmText?t.confirmText:"确定"))])])])])],2):t._e()])],1):t._e()])},_=[],w={name:"hModal",props:{title:{type:String,default:"提示"},content:{type:String,default:""},confirmText:{type:String,default:"确认"},cancleText:{type:String,default:"取消"}},mounted(){this.$nextTick(()=>{this.showModal=!0,document.body.style.overflowX="hidden",document.body.style.overflowY="hidden"})},destroyed(){document.body.style.overflowX="auto",document.body.style.overflowY="auto"},data(){return{showModal:!1}},methods:{close(){this.$emit("modalCancel")},confirm(){this.$emit("modalConfirm")},beforeEnter:function(t){t.style.opacity=0},enter:function(t,e){Velocity(t,{opacity:1},{duration:200}),Velocity(t,{complete:e})},beforeLeave:function(t){t.style.opacity=1},leave:function(t,e){Velocity(t,{opacity:0},{duration:200}),Velocity(t,{complete:e})}}},x=w,S=(n("993e"),u(x,C,_,!1,null,"319bcaa0",null)),$=S.exports;$.install=function(t){t.component($.name,$)};var T=$,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{appear:"","appear-class":"appear-enter","appear-to-class":"appear-enter-to","appear-active-class":"appear-enter-active",name:"animate"}},[t.show?n("div",{staticClass:"notice"},[n("span",{staticClass:"icon"},["success"===t.type?n("i",{staticClass:"iconfont icon-chenggong"}):t._e(),"warning"===t.type?n("i",{staticClass:"iconfont icon-jinggao"}):t._e(),"error"===t.type?n("i",{staticClass:"iconfont icon-cuowu"}):t._e(),"info"===t.type?n("i",{staticClass:"iconfont icon-zhengchang"}):t._e()]),n("div",{staticClass:"message"},[t.title?n("p",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),n("div",{ref:"content",staticClass:"content",attrs:{overflow:t.overflow}},[t._v(t._s(t.message))])]),t.buttonClose.isShow?n("span",{staticClass:"closeButton",on:{click:t.handleClose}},[n("i",{staticClass:"iconfont icon-shanchu"})]):t._e()]):t._e()])},B=[],L={name:"hNotice",props:{type:{type:String,default:"info",validator:t=>["info","success","warning","error"].includes(t)},title:{type:String,default:"通知"},message:{type:String,default:""},autoclose:{type:Boolean,default:!0},duration:{type:Number,default:2e3},buttonClose:{type:Object,default(){return{buttonText:"关闭",isShow:!0,callback:()=>{console.warn("default callback")}}}}},data(){return{show:!0,overflow:!1}},mounted(){this.handleAutoClose(),this.controlHidden()},methods:{handleAutoClose(){this.autoclose&&setTimeout(()=>{this.close()},this.duration)},controlHidden(){this.$nextTick(()=>{this.$refs.content.scrollHeight>this.$refs.content.offsetHeight&&(this.overflow=!0)})},close(){this.show=!1,setTimeout(()=>{this.$el.remove(),this.$destroy()},200)},handleClose(){this.close(),this.buttonClose.callback?this.buttonClose.callback("传数据啦"):console.warn("如需使用回调，请传入callback")}}},A=L,O=(n("135f"),u(A,E,B,!1,null,"7b4f8d4b",null)),P=O.exports;P.install=function(t){function e(e,n,i){let o=t.extend(P),s={type:e,message:n.message,autoclose:n.autoclose,duration:n.duration,buttonClose:{buttonText:n.buttonClose.buttonText,isShow:n.buttonClose.isShow,callback:i}},a=new o({propsData:{...s}}),r=a.$mount(),c=r.$el;c.setAttribute("data-notice",Math.random());var l=Array.prototype.slice.call(document.body.children);let u=[];l.forEach(t=>{t.getAttribute("data-notice")&&(u.push(t),document.body.removeChild(t))}),document.body.appendChild(c)}t.component(P.name,P);let n=function(t,n){t&&e(t.type,t,n)};n.info=function(t,n){t&&e("info",t,n)},n.success=function(t,n){t&&e("success",t,n)},n.error=function(t,n){t&&e("error",t,n)},n.warning=function(t,n){t&&e("warning",t,n)},t.prototype.$hNotice=n};var M=P,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popmessage"},[n("hPopover",{ref:"popover",attrs:{trigger:"click"}},[n("template",{slot:"content"},[n("div",{staticClass:"title"},[t._t("icon",[n("i",{staticClass:"iconfont icon-zhengchang"})]),n("span",{staticStyle:{"line-height":"30px"}},[t._t("title",[t._v("内容")])],2)],2),n("div",{staticClass:"footer"},[n("hButton",{attrs:{size:"mini",type:"default",plain:""},nativeOn:{click:function(e){return t.handleCancle(e)}}},[t._v("取消")]),n("hButton",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){return t.handleConfirm(e)}}},[t._v("确认")])],1)]),t._t("default")],2)],1)},j=[],H=function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{ref:"popover",staticClass:"popover"},[e.visible?i("div",{ref:"contentWrapper",staticClass:"gulu-popover-content-wrapper",class:[(t={},t["position-"+e.position]=!0,t),e.popClassName]},[e._t("content",[e._v("内容")],{close:e.close})],2):e._e(),i("div",{ref:"triggerWrapper",staticStyle:{display:"inline-block"}},[e._t("default")],2)])},R=[],I={name:"hPopover",props:{popClassName:{type:String},position:{type:String,default:"top",validator(t){return["top","bottom","left","right"].indexOf(t)>=0}},trigger:{type:String,default:"click",validator(t){return["click","hover"].indexOf(t)>=0}},container:{type:Element}},data(){return{visible:!1}},mounted(){this.addPopoverListeners()},beforeDestroy(){this.putBackContent(),this.removePopoverListeners()},computed:{openEvent(){return"click"===this.trigger?"click":"mouseenter"},closeEvent(){return"click"===this.trigger?"click":"mouseleave"}},methods:{addPopoverListeners(){"click"===this.trigger?this.$refs.popover.addEventListener("click",this.onClick):(this.$refs.popover.addEventListener("mouseenter",this.open),this.$refs.popover.addEventListener("mouseleave",this.close))},removePopoverListeners(){"click"===this.trigger?this.$refs.popover.removeEventListener("click",this.onClick):(this.$refs.popover.removeEventListener("mouseenter",this.open),this.$refs.popover.removeEventListener("mouseleave",this.close))},putBackContent(){const{contentWrapper:t,popover:e}=this.$refs;t&&e.appendChild(t)},positionContent(){const{contentWrapper:t,triggerWrapper:e}=this.$refs;(this.container||document.body).appendChild(t);const{width:n,height:i,top:o,left:s}=e.getBoundingClientRect(),{height:a}=t.getBoundingClientRect();let r={top:{top:o+window.scrollY,left:s+window.scrollX},bottom:{top:o+i+window.scrollY,left:s+window.scrollX},left:{top:o+window.scrollY+(i-a)/2,left:s+window.scrollX},right:{top:o+window.scrollY+(i-a)/2,left:s+window.scrollX+n}};t.style.left=r[this.position].left+"px",t.style.top=r[this.position].top+"px"},onClickDocument(t){this.$refs.popover&&(this.$refs.popover===t.target||this.$refs.popover.contains(t.target))||this.$refs.contentWrapper&&(this.$refs.contentWrapper===t.target||this.$refs.contentWrapper.contains(t.target))||this.close()},open(){this.visible=!0,this.$emit("open"),this.$nextTick(()=>{this.positionContent(),document.addEventListener("click",this.onClickDocument),window.addEventListener("resize",this.positionContent)})},close(){this.visible=!1,this.$emit("close"),document.removeEventListener("click",this.onClickDocument),window.removeEventListener("resize",this.positionContent)},onClick(t){this.$refs.triggerWrapper.contains(t.target)&&(!0===this.visible?this.close():this.open())}}},z=I,D=(n("30c4"),u(z,H,R,!1,null,"608a225f",null)),K=D.exports,q={name:"hPopmessage",components:{hPopover:K,hButton:p},methods:{handleConfirm(){this.$emit("confirm",!0),this.close()},handleCancle(){this.$emit("cancel",!1),this.close()},close(){this.$refs.popover.close()}}},W=q,U=(n("7df8"),u(W,N,j,!1,null,"5180bbbe",null)),V=U.exports;V.install=function(t){t.component(V.name,V)};var X=V;K.install=function(t){t.component(K.name,K)};var Y=K,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table",attrs:{border:t.border,stripe:t.stripe,size:t.size}},[n("thead",[n("tr",[t.checkable?n("th",{staticClass:"checkbox"},[n("input",{ref:"selectAll",style:{cursor:0===t.dataSource.length?"not-allowed":"pointer","pointer-events":0===t.dataSource.length?"none":""},attrs:{type:"checkbox"},on:{click:function(e){return t.self_checkAll(e)}}})]):t._e(),t._l(t.columns,(function(e,i){return n("th",{key:i,attrs:{align:t.align}},[t._v(t._s(e.title))])}))],2)]),t.dataSource.length?n("tbody",t._l(t.dataSource,(function(e,i){return n("tr",{key:i,on:{click:function(e){return t.self_clickTableTr(e)}}},[t.checkable?n("td",{staticClass:"checkbox"},[n("input",{ref:"select",refInFor:!0,attrs:{type:"checkbox",data_key:e.key},on:{click:function(n){return n.stopPropagation(),t.self_singleCheck(e.key,n)}}})]):t._e(),t._l(t.columns,(function(i,o){return n("td",{key:o,attrs:{align:t.align}},[t._t(i.filed,[[t._v(t._s(e[i.filed]))]],{data:e})],2)}))],2)})),0):n("tbody",[n("tr",{staticClass:"nodata"},[n("td",{attrs:{colspan:t.checkable?t.columns.length+1:t.columns.length}},[t._t("nodata",[[n("img",{staticClass:"icon",attrs:{src:"/static/img/noData.23b56c2.png",alt:""}})]])],2)])])])])},G=[],J={name:"hTable",props:{columns:{type:Array,default(){return[]}},dataSource:{type:Array,default(){return[]}},border:{type:Boolean,default:!1},align:{type:String,default:"center"},checkable:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},size:{type:String,default:"medium"},checkedKeys:{type:Array,default(){return[]}}},data(){return{checkedKeysCopy:this.checkedKeys}},watch:{dataSource:{immediate:!0,deep:!0,handler(t){if(t&&t.length>0){let e=[];t.forEach(t=>{this.checkedKeys.forEach(n=>{n===t.key&&e.push(n)})}),this.self_update(this.self_unique(e))}else t&&0===t.length&&this.self_update([])}},checkedKeys:{immediate:!0,deep:!0,handler(t){t&&(this.checkedKeysCopy=this.self_unique(t))}},checkedKeysCopy:{immediate:!0,deep:!0,handler(t){this.$nextTick(()=>{this.$refs.selectAll&&(t.length===this.dataSource.length&&0!==this.dataSource.length?(this.$refs.selectAll.checked=!0,this.$refs.selectAll.indeterminate=!1):0===t.length?(this.$refs.selectAll.checked=!1,this.$refs.selectAll.indeterminate=!1):this.$refs.selectAll.indeterminate=!0),t&&t.length>0?t.forEach(t=>{this.$refs.select&&this.$refs.select.length>0&&this.$refs.select.forEach(e=>{e.getAttribute("data_key")==t&&(e.checked=!0)})}):this.$refs.select&&this.$refs.select.length>0&&this.$refs.select.forEach(t=>{t.checked=!1})})}}},methods:{self_update(t){this.checkedKeys&&this.checkedKeys.length>=0&&this.$emit("update:checkedKeys",t)},self_singleCheck(t,e){if(e.target.checked)this.$set(this.checkedKeysCopy,this.checkedKeysCopy.length,t);else{const e=this.checkedKeysCopy.findIndex(e=>e===t);this.$delete(this.checkedKeysCopy,e)}this.self_update(this.checkedKeysCopy)},self_checkAll(t){if(t.target.checked){const t=[];this.dataSource.forEach(e=>{t.push(e.key||e.id)}),this.checkedKeysCopy=t}else this.checkedKeysCopy.splice(0,this.checkedKeysCopy.length);this.self_update(this.checkedKeysCopy)},self_unique(t){if(!Array.isArray(t))return void console.log("type error!");let e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},self_clickTableTr(t){},com_clearAllselect(){this.checkedKeysCopy=[],this.self_update()}}},Q=J,Z=(n("ae39"),u(Q,F,G,!1,null,"705d1490",null)),tt=Z.exports;tt.install=function(t){t.component(tt.name,tt)};var et=tt,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"alert-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"dialog-tips dialog-center",attrs:{id:"toast"}},[t._v(t._s(t.message))])])},it=[],ot={name:"hToast",data(){return{visible:!1,message:""}}},st=ot,at=(n("c2c9"),u(st,nt,it,!1,null,"b5f6def0",null)),rt=at.exports;rt.install=t=>{const e=t.extend(rt),n=new e;n.$mount(document.createElement("div")),document.body.appendChild(n.$el),t.prototype.$hToast=(t,e=3e3)=>{n.message=t,n.visible=!0,setTimeout(()=>{n.visible=!1},e)}};var ct=rt,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor"},[n("div",{staticClass:"select"},[n("button",{on:{click:function(e){return t.editStyle("SelectAll",!1,null)}}},[n("i",{staticClass:"iconfont icon-quanxuan",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("removeFormat",!1,null)}}},[n("i",{staticClass:"iconfont icon-qingchu",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Cut",!1,null)}}},[n("i",{staticClass:"iconfont icon-jianqie",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Copy",!1,null)}}},[n("i",{staticClass:"iconfont icon-fuzhi",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Paste",!1,null)}}},[n("i",{staticClass:"iconfont icon-niantie",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Delete",!1,null)}}},[n("i",{staticClass:"iconfont icon-shanchu",attrs:{type:"button"}})]),n("span",{staticStyle:{color:"#aaa",display:"flex",width:"20px","text-align":"center","justify-content":"center","align-items":"center"}},[t._v("|")]),n("select",{staticClass:"headerSelect",domProps:{value:t.headerSelect},on:{change:t.setHeading,focus:function(e){t.headerSelect="-1"}}},t._l(t.headerSelectOptions,(function(e,i){return n("option",{key:i,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),t._m(0),t._m(1),n("button",{on:{click:function(e){return t.editStyle("StrikeThrough",!1,null)}}},[n("i",{staticClass:"iconfont icon-shanchuxian",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Bold",!1,null)}}},[n("i",{staticClass:"iconfont icon-bold",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Underline",!1,null)}}},[n("i",{staticClass:"iconfont icon-xiahuaxian",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Italic",!1,null)}}},[n("i",{staticClass:"iconfont icon-xieti",attrs:{type:"button"}})]),n("span",{staticStyle:{color:"#aaa",display:"flex",width:"20px","text-align":"center","justify-content":"center","align-items":"center"}},[t._v("|")]),n("button",{on:{click:function(e){return t.editStyle("indent",!1,null)}}},[n("i",{staticClass:"iconfont icon-yousuojin",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("justifyLeft",!1,null)}}},[n("i",{staticClass:"iconfont icon-youduiqi",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("justifyCenter",!1,null)}}},[n("i",{staticClass:"iconfont icon-juzhongduiqi",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("justifyRight",!1,null)}}},[n("i",{staticClass:"iconfont icon-zuoduiqi",attrs:{type:"button"}})]),n("span",{staticStyle:{color:"#aaa",display:"flex",width:"20px","text-align":"center","justify-content":"center","align-items":"center"}},[t._v("|")]),n("button",{class:{active:"createLink"===this.activeButton},on:{click:t.openLinkDialog}},[n("i",{staticClass:"iconfont icon-lianjie",attrs:{type:"button"}})]),n("button",{class:{active:"InsertInputImage"===this.activeButton},on:{click:function(e){return t.editStyle("InsertInputImage",!1,null)}}},[n("i",{staticClass:"iconfont icon-tupian",attrs:{type:"button"}})]),n("button",{class:{active:"insertHTML"===this.activeButton},on:{click:t.openHtmlDialog}},[n("i",{staticClass:"iconfont icon--HTML",attrs:{type:"button"}})]),n("button",{class:{active:"addTable"===this.activeButton},on:{click:t.openTableDialog}},[n("i",{staticClass:"iconfont icon-biaoge",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.adjustList("insertOrderedList")}}},[n("i",{staticClass:"iconfont icon-youxuliebiao",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.adjustList("insertUnorderedList")}}},[n("i",{staticClass:"iconfont icon-wuxuliebiao",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("insertHorizontalRule",!1,null)}}},[n("i",{staticClass:"iconfont icon-line",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("insertParagraph",!1,null)}}},[n("i",{staticClass:"iconfont icon-duanluo",attrs:{type:"button"}})]),n("span",{staticStyle:{color:"#aaa",display:"flex",width:"20px","text-align":"center","justify-content":"center","align-items":"center"}},[t._v("|")]),n("button",{on:{click:function(e){return t.editStyle("Undo",!1,null)}}},[n("i",{staticClass:"iconfont icon-chexiao",attrs:{type:"button"}})]),n("button",{on:{click:function(e){return t.editStyle("Redo",!1,null)}}},[n("i",{staticClass:"iconfont icon-chongzuo",attrs:{type:"button"}})])]),n("div",{ref:"editor",staticClass:"input",attrs:{id:"editorInput",contenteditable:"true"},on:{mouseup:t.mouseup,blur:t.editorBlur}}),t.htmlshow?n("div",{staticClass:"htmlinput"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.htmlinput,expression:"htmlinput"}],staticClass:"textarea",attrs:{placeholder:"输入html"},domProps:{value:t.htmlinput},on:{input:function(e){e.target.composing||(t.htmlinput=e.target.value)}}}),t._v(" "),n("p",{staticClass:"footer"},[n("button",{on:{click:function(){t.htmlshow=!1}}},[t._v("关闭")]),n("button",{on:{click:t.insertHTML}},[t._v("插入")])])]):t._e(),t.linkshow?n("div",{staticClass:"linkinput"},[n("p",[t._v(" 文本： "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.linkinput.text,expression:"linkinput.text"}],attrs:{type:"text",placeholder:"输入文本"},domProps:{value:t.linkinput.text},on:{input:function(e){e.target.composing||t.$set(t.linkinput,"text",e.target.value)}}})]),n("p",[t._v(" 链接： "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.linkinput.link,expression:"linkinput.link"}],attrs:{type:"text",placeholder:"输入url"},domProps:{value:t.linkinput.link},on:{input:function(e){e.target.composing||t.$set(t.linkinput,"link",e.target.value)}}})]),n("p",{staticClass:"footer"},[n("button",{on:{click:function(){t.linkshow=!1}}},[t._v("关闭")]),n("button",{on:{click:t.createLink}},[t._v("插入")])])]):t._e(),t.tableshow?n("div",{staticClass:"tableinput"},[n("p",[t._v(" 行数： "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tableinput.rows,expression:"tableinput.rows"}],attrs:{type:"text",placeholder:"输入行数"},domProps:{value:t.tableinput.rows},on:{input:function(e){e.target.composing||t.$set(t.tableinput,"rows",e.target.value)}}})]),n("p",[t._v(" 列数： "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tableinput.cells,expression:"tableinput.cells"}],attrs:{type:"text",placeholder:"输入列数"},domProps:{value:t.tableinput.cells},on:{input:function(e){e.target.composing||t.$set(t.tableinput,"cells",e.target.value)}}})]),n("p",{staticClass:"footer"},[n("button",{on:{click:function(){t.tableshow=!1}}},[t._v("关闭")]),n("button",{on:{click:t.Addtable}},[t._v("插入")])])]):t._e()])},ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",[n("i",{staticClass:"iconfont icon-ziti",attrs:{type:"button"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",[n("i",{staticClass:"iconfont icon-zihao",attrs:{type:"button"}})])}],dt={name:"hEditor",components:{},data(){return{selection:{},originButton:"",activeButton:"",currentSelection:{},htmlshow:!1,htmlinput:"",linkshow:!1,linkinput:{link:"",text:""},tableshow:!1,tableinput:{rows:"",cells:""},headerSelect:"",headerSelectOptions:["h1","h2","h3","h4","h5","h6"]}},watch:{htmlshow(t){!1===t?(this.htmlinput="","insertHTML"===this.activeButton&&(this.activeButton="none"),this.originButton="insertHTML"):(this.activeButton="insertHTML",this.linkshow=!1,this.tableshow=!1)},linkshow(t){!1===t?(this.linkinput.text="",this.linkinput.link="","createLink"===this.activeButton&&(this.activeButton="none"),this.originButton="createLink"):(this.activeButton="createLink",this.htmlshow=!1,this.tableshow=!1)},tableshow(t){!1===t?(this.tableinput.rows="",this.tableinput.cells="","addTable"===this.activeButton&&(this.activeButton="none"),this.originButton="addTable"):(this.activeButton="addTable",this.htmlshow=!1,this.linkshow=!1)}},computed:{isOrginButton(){return this.activeButton===this.originButton}},methods:{autoadaption(){this.Sys=function(t){var e={};return e.IE=!!t.match(/msie ([\d.]+)/),e.Firefox=!!t.match(/firefox\/([\d.]+)/),e.Chrome=!!t.match(/chrome\/([\d.]+)/),e.IE6=!(!e.IE||6!=[/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]),e.IE7=!(!e.IE||7!=[/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]),e.IE8=!(!e.IE||8!=[/MSIE (\d)\.0/i.exec(navigator.userAgent)][0][1]),e}(navigator.userAgent.toLowerCase());let t=document.querySelector(".editor"),e=document.querySelector(".select").offsetHeight,n=document.querySelector(".input");n.style.position="absolute",n.style.top=e+"px",n.style.height=t.offsetHeight-e+"px",n.style.maxHeight=t.offsetHeight-e+"px"},editorBlur(){this.backupRange()},mouseup(){},editStyle(t,e,n){document.execCommand(t,e,n)},openHtmlDialog(){this.htmlshow=!this.htmlshow},insertHTML(){this.restoreRange(),document.execCommand("insertHTML",!1,this.htmlinput),this.backupRange(),this.htmlshow=!1},openLinkDialog(){this.linkshow=!this.linkshow},insertLink(t,e){let n=document.getSelection(),i=n.getRangeAt(0);if(i.collapsed){let n=i.startContainer,o=this.findParentByTagName(n,"a");o?o.setAttribute("src",t):(document.execCommand("insertHTML",!1,`<a  href="${t}">${e}</a>`),this.insertHTML(`<a  href="${t}">${e}</a>`))}else document.execCommand("createLink",!1,t)},createLink(){this.restoreRange(),this.insertLink(this.linkinput.link,this.linkinput.text),this.backupRange(),this.linkshow=!1},findParentByTagName(t,e){let n=t;"string"===typeof e&&(e=[e]);while(-1===e.indexOf(n.nodeName.toLowerCase())&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName)n=n.parentNode;return"BODY"===n.nodeName||"HTML"===n.nodeName?null:n},backupRange(){let t;window.getSelection?t=window.getSelection():document.selection&&(t=document.selection.createRange());let e=t.getRangeAt(0);this.currentSelection={startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}},restoreRange(){if(this.currentSelection&&0!=Object.keys(this.currentSelection).length){let t=window.getSelection();t.removeAllRanges();let e=document.createRange();e.setStart(this.currentSelection.startContainer,this.currentSelection.startOffset),e.setEnd(this.currentSelection.endContainer,this.currentSelection.endOffset),t.addRange(e)}else this.$refs.editor.focus()},adjustList(t){document.execCommand(t,!1,null);let e=document.querySelectorAll("ol, ul");for(let n=0;n<e.length;n++){let t=e[n],i=t.parentNode;"P"===i.tagName&&i.lastChild===i.firstChild&&(i.insertAdjacentElement("beforebegin",t),i.remove())}},getCaretStyle(){let t=window.getSelection(),e=t.getRangeAt(0),n=e.commonAncestorContainer,i=null,o=["U","I","B","STRIKE"],s=[];3===n.nodeType&&(n=n.parentNode),i=n;while(-1===block.indexOf(i.nodeName.toLowerCase()))-1!==o.indexOf(i.nodeName)&&s.push(i.nodeName),i=i.parentNode;let a,r={italic:-1!==s.indexOf("I"),underline:-1!==s.indexOf("U"),bold:-1!==s.indexOf("B"),strike:-1!==s.indexOf("STRIKE")},c=window.getComputedStyle(n,null);return r.fontSize=c["fontSize"],r.color=c["color"],r.fontWeight=c["fontWeight"],r.fontStyle=c["fontStyle"],r.textDecoration=c["textDecoration"],r.isH1=!!a.findParentByTagName(n,"h1"),r.isH2=!!a.findParentByTagName(n,"h2"),r.isP=!!a.findParentByTagName(n,"p"),r.isUl=!!a.findParentByTagName(n,"ul"),r.isOl=!!a.findParentByTagName(n,"ol"),r},setHeading(){let t=document.querySelector(".headerSelect"),e=t.selectedIndex,n=t.options[e].text;this.headerSelect=n;let i=n,o=document.queryCommandValue("formatBlock");o.length>0&&o.toLowerCase(),document.execCommand("formatBlock",!1,i),document.querySelector(".headerSelect")[0].blur()},openTableDialog(){this.tableshow=!this.tableshow},Addtable(){var t=this;function e(t){let e=document.createElement("div");e.appendChild(t);let n=e.innerHTML;return e=t=null,n}function n(n,i,o,s){var a=document.createElement("table");a.style.width="300px",a.style.border="1px solid #ccc";for(var r=document.createElement("tbody"),c=0;c<i;c++){var l=document.createElement("tr");l.style.border="1px solid red";for(var u=0;u<o;u++){var d=document.createElement("td");d.style.border="1px solid #ccc",d.style.textAlign="center",d.style.minWidth="40px",d.style.padding="5px 10px",l.appendChild(d)}r.appendChild(l)}a.appendChild(r),a.setAttribute("id",s),t.restoreRange(),document.execCommand("insertHTML",!1,e(a)+""),t.backupRange()}0===this.tableinput.rows&&0===this.tableinput.cells||(n("editorInput",this.tableinput.rows,this.tableinput.cells,Math.random()+"createdTable"),this.tableshow=!1)}},mounted(){this.$refs.editor.focus(),this.autoadaption()}},pt=dt,ht=(n("f109"),u(pt,lt,ut,!1,null,"7604f689",null)),ft=ht.exports;ft.install=function(t){t.component(ft.name,ft)};var mt=ft;const yt="0.0.1-alpha.20",vt=["color: #fff","border-top-left-radius:3px","border-bottom-left-radius:3px","background-color: #564b4f","padding: 5px"].join(";"),gt=["color: #fff","border-top-right-radius:3px","border-bottom-right-radius:3px","background-color: #4fc08d","padding: 5px"].join(";");console.log("%cq-vuiVersion %c".concat(yt),vt,gt);const bt={hButton:h,hMessage:k,hModal:T,hNotice:M,hPopmessage:X,hPopover:Y,hTable:et,hToast:ct,hEditor:mt},kt=function(t){kt.installed||Object.keys(bt).forEach(e=>{t.use(bt[e])})};var Ct={install:kt,...bt};e["default"]=Ct}})}));
//# sourceMappingURL=hansan-vui.umd.min.js.map